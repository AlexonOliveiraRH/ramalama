FROM quay.io/fedora/fedora:42

RUN dnf -y update && \
    dnf -y install uv cmake gcc gcc-c++ python3-devel pkg-config sentencepiece-devel && \
    dnf -y clean all

RUN uv venv

COPY --chmod=755 container-images/llama-stack/entrypoint.sh /usr/bin/entrypoint.sh

ENTRYPOINT [ "/usr/bin/entrypoint.sh" ]

CMD [ "llama",  "stack",  "run", "--image-type", "venv", "/etc/ramalama/ramalama-run.yaml" ]
